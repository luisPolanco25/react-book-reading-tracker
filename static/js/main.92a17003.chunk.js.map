{"version":3,"sources":["model/store.js","model/distinct-book-titles.js","model/actions.js","model/filter-by-book.js","model/api.js","model/hooks.js","components/FormAddEntry.js","components/EditableProperty.js","components/Entry.js","components/PastEntries.js","components/Youtube.js","components/FormLogin.js","components/Errors.js","model/metrics.js","components/Metrics.js","components/Filter.js","components/Main.js","App.js","serviceWorker.js","index.js"],"names":["TYPE_UPDATE_TOKEN","TYPE_UPDATE_DATA","TYPE_ADD_ERROR","TYPE_CLEAR_ERRORS","TYPE_SHOW_LOADING","TYPE_STOP_LOADING","TYPE_FILTER_BY_BOOK","TYPE_LOGOUT","TYPE_ADD_ENTRY","TYPE_DELETE_ENTRY","TYPE_PATCH_ENTRY","configureStore","reducer","newState","newData","errors","data","idx","item","loadingRequests","state","token","filterByBook","action","type","push","error","date","toISOString","findIndex","i","id","entryId","requestId","length","filter","reqId","book","entry","sort","propertyName","propertyValue","a","b","start_time","bookTitlesFromData","prop","titleMap","reduce","acc","book_id","titles","setData","dispatch","store","addError","message","Date","patchEntry","showLoading","uuidv4","connectWithToken","fn","connect","connectWithData","ENTRIES_ENDPOINT","fetchEntries","headers","Headers","append","req","Request","fetch","then","resp","json","d","catch","e","addEntry","body","JSON","stringify","method","onSuccess","success","actions","stopEntry","dateStop","pageStop","end_time","intPageStop","parseInt","end_location","stopLoading","finally","deleteEntry","patchProperty","value","useInput","placeholder","onBlur","useState","setValue","onChange","target","useCheckbox","label","start","dependencies","decoratedSetValue","map","check","checked","ConnectedFormAddEntry","currentBook","fimDataInput","fimDataValue","setFimDataValue","fimHorarioInput","fimHorarioValue","setFimHorarioValue","fimPaginaInput","fimPaginaValue","setFimPaginaValue","inicioDataInput","inicioDataValue","setInicioDataValue","inicioHorarioInput","inicioHorarioValue","setInicioHorarioValue","jaPareiCheckbox","jaPareiValue","setJaPareiValue","livroInput","livroValue","setLivroValue","inicioPaginaInput","inicioPaginaValue","setInicioPaginaValue","jaComeceiCheckbox","jaComeceiValue","setJaComeceiValue","useEffect","onSubmit","TimeRFC3339","start_location","preventDefault","sm","color","usarHorarioManual","retornarAgora","hora","data_parts","split","hora_parts","dateAndTimeToDate","ConnectedEditableProperty","children","dataParser","isEditing","setIsEditing","ref","useRef","current","focus","onClick","innerRef","onFocus","event","select","ConnectedEntry","showDeleteModal","setShowDeleteModal","showStopModal","setShowStopModal","stopDate","setStopDate","isIncomplete","className","timeParser","prettyDate","intParser","DeleteModal","handleCancel","handleConfirm","showModal","StopModal","stopPage","handleDeleteModal","handleStopModal","str","parts","dateStr","timestamp","parse","setTime","pad","getDate","getMonth","getFullYear","getHours","getMinutes","num","len","input","isOpen","ConnectedPastEntries","shouldFetch","setShouldFetch","Youtube","src","title","frameborder","allow","allowFullScreen","ConnectedFormLogin","md","size","offset","logout","clientId","buttonText","response","updateToken","tokenId","onFailure","cookiePolicy","ConnectedErrors","connectWithErrors","expanded","setExpanded","visibleErrors","reverse","toggleExpanded","handleClear","clearErrors","isFirst","accumulatedPerDate","rawData","dateMax","sortAndFilter","shouldRepeat","total","y","x","datePlus1","setDate","formatDate","newPagesPerDate","ConnectedMetrics","options","scales","xAxes","time","round","minUnit","aspectRatio","now","accumulatedPagesData","datasets","metrics","backgroundColor","borderColor","newPagesData","height","width","ALL_BOOKS","ConnectedFilter","bookTitles","connectWithBookTitles","dropdownOpen","setDropdownOpen","setTitle","toggle","prevState","caret","ConnectedMain","App","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.92a17003.chunk.js","sourcesContent":["import { configureStore } from '@reduxjs/toolkit';\n\nexport const TYPE_UPDATE_TOKEN = \"TYPE_UPDATE_TOKEN\";\nexport const TYPE_UPDATE_DATA = \"TYPE_UPDATE_DATA\";\nexport const TYPE_ADD_ERROR = \"TYPE_ADD_ERROR\";\nexport const TYPE_CLEAR_ERRORS = \"TYPE_CLEAR_ERRORS\";\nexport const TYPE_SHOW_LOADING = \"TYPE_SHOW_LOADING\";\nexport const TYPE_STOP_LOADING = \"TYPE_STOP_LOADING\";\nexport const TYPE_FILTER_BY_BOOK = \"TYPE_FILTER_BY_BOOK\";\nexport const TYPE_LOGOUT = \"TYPE_LOGOUT\";\nexport const TYPE_ADD_ENTRY = \"TYPE_ADD_ENTRY\";\nexport const TYPE_DELETE_ENTRY = \"TYPE_DELETE_ENTRY\";\nexport const TYPE_PATCH_ENTRY = \"TYPE_PATCH_ENTRY\";\n\nconst reducer = (state = {errors: [], token: null, data: null, filterByBook: null}, action) => {\n\n  let newState;\n  let newData;\n  let errors;\n  let data;\n  let idx;\n  let item;\n  let loadingRequests;\n\n  if (action.type === TYPE_UPDATE_TOKEN) {\n    return {\n      ...state,\n      token: action.token,\n      data: null\n    }\n  } else if (action.type === TYPE_UPDATE_DATA) {\n    return {\n      ...state,\n      data: action.data\n    }\n  } else if (action.type === TYPE_ADD_ERROR) {\n    newState = {...state};\n    errors = [...state.errors];\n    errors.push({error: action.error, date: action.date.toISOString()});\n    newState.errors = errors;\n    return newState;\n  } else if (action.type === TYPE_SHOW_LOADING) {\n    data = [...state.data];\n    idx = data.findIndex(i => {\n      return i.id === action.entryId;\n    });\n    item = {...data[idx]};\n    loadingRequests = [...(item.loadingRequests || [])];\n    loadingRequests.push(action.requestId);\n    item.loadingRequests = loadingRequests;\n    data[idx] = item;\n    return {\n      ...state,\n      data: data\n    }\n  } else if (action.type === TYPE_STOP_LOADING) {\n    data = [];\n    if (state.data && state.data.length) {\n      data = [...state.data];\n    }\n    idx = data.findIndex(i => {\n      return i.id === action.entryId;\n    });\n    item = {...data[idx]};\n    loadingRequests = [...(item.loadingRequests || [])].filter(reqId => reqId !== action.requestId);\n    item.loadingRequests = loadingRequests;\n    data[idx] = item;\n    return {\n      ...state,\n      data: data\n    }\n  } else if (action.type === TYPE_CLEAR_ERRORS) {\n    newState = {...state};\n    newState.errors = [];\n    return newState;\n  } else if (action.type === TYPE_FILTER_BY_BOOK) {\n    return {\n      ...state,\n      filterByBook: action.book,\n    }\n  } else if (action.type === TYPE_LOGOUT) {\n    return {};\n  } else if (action.type === TYPE_ADD_ENTRY) {\n    newData = [...state.data];\n    newData.push(action.entry);\n    return {\n      ...state,\n      data: sort(newData),\n    }\n  } else if (action.type === TYPE_DELETE_ENTRY) {\n    newData = state.data.filter(i => i.id !== action.entryId);\n    return {\n      ...state,\n      data: sort(newData),\n    }\n  } else if (action.type === TYPE_PATCH_ENTRY) {\n    newData = [...state.data];\n    idx = newData.findIndex(i => {\n      return i.id === action.entryId;\n    });\n    item = {...newData[idx]};\n    item[action.propertyName] = action.propertyValue;\n    newData[idx] = item;\n    return {\n      ...state,\n      data: newData\n    }\n  }\n  return state\n}\n\nexport default configureStore({\n  reducer: reducer\n});\n\nconst sort = data => {\n  if (!data || data.length === 0) {\n    return data;\n  }\n  const sorted = [...data].sort((a, b) => {\n    if (a.start_time < b.start_time) {\n      return 1;\n    }\n    return -1;\n  });\n  return sorted;\n};\n","export const bookTitlesFromData = data => {\n  if (!data || !data.length) {\n    return [];\n  }\n  const titleMap = data.reduce((acc, i) => {\n    acc[i.book_id] = true;\n    return acc;\n  }, {});\n  const titles = [];\n  let prop;\n  for (prop in titleMap) {\n    titles.push(prop);\n  }\n  return sort(titles);\n};\n\nconst sort = data => {\n  if (!data || data.length === 0) {\n    return data;\n  }\n  const sorted = [...data].sort((a, b) => {\n    if (a < b) {\n      return -1;\n    }\n    return 1;\n  });\n  return sorted;\n};\n","import * as store from './store.js';\nimport { connect } from 'react-redux';\nimport { v4 as uuidv4 } from 'uuid';\nimport { bookTitlesFromData } from './distinct-book-titles.js';\nimport { filterDataByBook } from './filter-by-book.js';\n\nexport const logout = dispatch => {\n  dispatch({\n    type: store.TYPE_LOGOUT\n  });\n}\n\nexport const updateToken = token => {\n  return {\n    type: store.TYPE_UPDATE_TOKEN,\n    token: token\n  }\n}\n\nconst sort = data => {\n  if (!data || data.length === 0) {\n    return data;\n  }\n  const sorted = data.sort((a, b) => {\n    if (a.start_time < b.start_time) {\n      return 1;\n    }\n    return -1;\n  });\n  return sorted;\n};\n\nexport const setData = (dispatch, data) => {\n  data = sort(data);\n  dispatch({\n    type: store.TYPE_UPDATE_DATA,\n    data: data\n  });\n}\n\nexport const addError = (dispatch, error) => {\n  error = error.message || error;\n  dispatch({\n    type: store.TYPE_ADD_ERROR,\n    error: error,\n    date: new Date()\n  });\n}\n\nexport const clearErrors = (dispatch) => {\n  dispatch({\n    type: store.TYPE_CLEAR_ERRORS\n  });\n}\n\nexport const filterByBook = (dispatch, book) => {\n  dispatch({\n    type: store.TYPE_FILTER_BY_BOOK,\n    book: book\n  });\n}\n\nexport const deleteEntry = (dispatch, id) => {\n  dispatch({\n    type: store.TYPE_DELETE_ENTRY,\n    entryId: id,\n  });\n}\n\nexport const addEntry = (dispatch, entry) => {\n  dispatch({\n    type: store.TYPE_ADD_ENTRY,\n    entry: entry\n  });\n}\n\nexport const patchEntry = (dispatch, entryId, propertyName, propertyValue) => {\n  dispatch({\n    type: store.TYPE_PATCH_ENTRY,\n    entryId,\n    propertyName,\n    propertyValue\n  });\n}\n\nexport const showLoading = (dispatch, entryId) => {\n  const requestId = uuidv4();\n\n  dispatch({\n    type: store.TYPE_SHOW_LOADING,\n    entryId: entryId,\n    requestId: requestId\n  });\n\n  return () => {\n    dispatch({\n      type: store.TYPE_STOP_LOADING,\n      entryId: entryId,\n      requestId: requestId\n    });\n  }\n}\n\nexport const connectWithToken = fn => connect((state) => {return {token: state.token}})(fn);\nexport const connectWithData = fn => connect((state) => {return {data: filterDataByBook(state.data, state.filterByBook)}})(fn);\nexport const connectWithErrors = fn => connect((state) => {return {errors: state.errors}})(fn);\nexport const connectWithBookTitles = fn => connect((state) => {return {bookTitles: bookTitlesFromData(state.data)}})(fn);\nexport const connectWithCurrentBook = fn => connect((state) => {return {currentBook: (state.filterByBook || \"\")}})(fn);\n","export const filterDataByBook = (data, book) => {\n  if (!data || !data.length) return [];\n  if (!book) return data;\n  const filtered = [...data];\n  return filtered.filter(i => {\n    return i.book_id === book;\n  });\n};\n","import { showLoading, setData, addError } from './actions.js';\nimport * as actions from './actions.js';\n\nconst ENTRIES_ENDPOINT = \"https://ikhizussk2.execute-api.us-east-1.amazonaws.com/dev/entries\";\n\nexport function fetchEntries(token, dispatch) {\n\n  const headers = new Headers();\n  headers.append(\"Authorization\", \"Bearer \" + token);\n\n  const req = new Request(ENTRIES_ENDPOINT, {\n    headers: headers\n  }); \n\n  fetch(req)\n    .then(resp => resp.json())\n    .then(d => setData(dispatch, d))\n    .catch(e => addError(dispatch, e));\n}\n\nexport function addEntry(token, entry, data, dispatch) {\n\n    const headers = new Headers();\n    headers.append(\"Authorization\", \"Bearer \" + token);\n\n    const body = JSON.stringify(entry);\n\n    const req = new Request(ENTRIES_ENDPOINT, {\n      method: \"POST\",\n      headers: headers,\n      body: body\n    }); \n\n  const onSuccess = d => {\n    if (d.success) {\n      entry.id = d.id;\n      actions.addEntry(dispatch, entry);\n    } else {\n      actions.addError(dispatch, \"Error onSuccess do addEntry\");\n    }\n  };\n\n  fetch(req)\n    .then(resp => resp.json())\n    .then(d => onSuccess(d))\n    .catch(e => addError(dispatch, e));\n}\n\nexport function stopEntry(token, entry, dateStop, pageStop, dispatch) {\n\n  const headers = new Headers();\n  headers.append(\"Authorization\", \"Bearer \" + token);\n\n  const body = {};\n\n  if (dateStop) {\n    body.end_time = dateStop;\n  }\n\n  const intPageStop = parseInt(pageStop, 10);\n  if (intPageStop) {\n    body.end_location = intPageStop;\n  }\n\n  const req = new Request(ENTRIES_ENDPOINT + \"/\" + entry.id, {\n    method: \"PATCH\",\n    headers: headers,\n    body: JSON.stringify(body)\n  }); \n\n  const onSuccess = d => {\n    if (d.success) {\n      if (dateStop) {\n        actions.patchEntry(dispatch, entry.id, \"end_time\", dateStop);\n      }\n      if (intPageStop) {\n        actions.patchEntry(dispatch, entry.id, \"end_location\", intPageStop);\n      }\n    } else {\n      addError(dispatch, \"Error onSuccess do stopEntry\");\n    }\n  };\n\n  const stopLoading = showLoading(dispatch, entry.id);\n\n  fetch(req)\n    .then(resp => resp.json())\n    .then(d => onSuccess(d))\n    .catch(e => addError(dispatch, e))\n    .finally(stopLoading);\n}\n\nexport function deleteEntry(token, id, data, dispatch) {\n\n  const headers = new Headers();\n  headers.append(\"Authorization\", \"Bearer \" + token);\n\n  const req = new Request(ENTRIES_ENDPOINT + \"/\" + id, {\n    method: \"DELETE\",\n    headers: headers\n  }); \n\n  const onSuccess = d => {\n    if (d.success) {\n      actions.deleteEntry(dispatch, id);\n    } else {\n      addError(dispatch, \"Error onSuccess do deleteEntry\");\n    }\n  };\n\n  const stopLoading = showLoading(dispatch, id);\n\n  fetch(req)\n    .then(resp => resp.json())\n    .then(d => onSuccess(d))\n    .catch(e => addError(dispatch, e))\n    .finally(stopLoading);\n}\n\nexport function patchProperty(data, token, entryId, propertyName, value, dispatch) {\n\n  const headers = new Headers();\n  headers.append(\"Authorization\", \"Bearer \" + token);\n\n  const body = {};\n  body[propertyName] = value;\n\n  const req = new Request(ENTRIES_ENDPOINT + \"/\" + entryId, {\n    method: \"PATCH\",\n    headers: headers,\n    body: JSON.stringify(body)\n  }); \n\n  const onSuccess = d => {\n    if (d.success) {\n      actions.patchEntry(dispatch, entryId, propertyName, value);\n    } else {\n      addError(dispatch, \"error onsuccess do patchproperty\");\n    }\n  };\n\n  const stopLoading = showLoading(dispatch, entryId);\n\n  fetch(req)\n    .then(resp => resp.json())\n    .then(d => onSuccess(d))\n    .catch(e => addError(dispatch, e))\n    .finally(stopLoading);\n}\n","import * as rs from 'reactstrap';\n\nimport React, { useState } from 'react';\n\nexport function useInput(placeholder, onBlur) {\n  const [value, setValue] = useState(\"\")\n  return [\n    <rs.Input onBlur={onBlur} placeholder={placeholder} value={value} onChange={(e) => setValue(e.target.value)}/>,\n    value,\n    setValue,\n  ]\n}\n\nexport function useCheckbox(label, start, dependencies) {\n  const [value, setValue] = useState(start)\n\n  const decoratedSetValue = value => {\n    dependencies.map(i => i(\"\"));\n    setValue(value);\n  };\n\n  const input = (\n    <rs.FormGroup check>\n      <rs.Label check>\n        <rs.Input type=\"checkbox\" checked={value} onChange={(e) => decoratedSetValue(e.target.checked)} />{' '}\n        {label}\n      </rs.Label>\n    </rs.FormGroup>\n  );\n\n  return [\n    input,\n    value,\n    decoratedSetValue,\n  ]\n}\n\n","import * as rs from 'reactstrap';\nimport { addEntry } from './../model/api.js';\nimport { connectWithCurrentBook, connectWithData, connectWithToken } from './../model/actions.js';\nimport { useEffect } from 'react';\nimport { useInput, useCheckbox } from './../model/hooks.js';\n\nexport const ConnectedFormAddEntry = connectWithCurrentBook(connectWithData(connectWithToken(FormAddEntry)));\n\nfunction FormAddEntry({token, data, currentBook, dispatch}) {\n\n  const onInicioDataBlur = (e) => {\n    setFimDataValue(e.target.value);\n  };\n\n  const [fimDataInput, fimDataValue, setFimDataValue] = useInput(\"Data (DD/MM/AAAA)\");\n  const [fimHorarioInput, fimHorarioValue, setFimHorarioValue] = useInput(\"Hora (HH:MM)\");\n  const [fimPaginaInput, fimPaginaValue, setFimPaginaValue] = useInput(\"Página em que parei\");\n\n  const [inicioDataInput, inicioDataValue, setInicioDataValue] = useInput(\"Data (DD/MM/AAAA)\", onInicioDataBlur);\n  const [inicioHorarioInput, inicioHorarioValue, setInicioHorarioValue] = useInput(\"Hora (HH:MM)\");\n  const [jaPareiCheckbox, jaPareiValue, setJaPareiValue] = useCheckbox(\"Fim retroativo\", false, [setFimDataValue, setFimHorarioValue, setFimPaginaValue])\n\n  const [livroInput, livroValue, setLivroValue] = useInput(\"Livro que vou ler agora\");\n  const [inicioPaginaInput, inicioPaginaValue, setInicioPaginaValue] = useInput(\"Página em que vou começar\");\n  const [jaComeceiCheckbox, jaComeceiValue, setJaComeceiValue] = useCheckbox(\"Início retroativo\", false, [setInicioDataValue, setInicioHorarioValue, setJaPareiValue])\n\n  useEffect(() => {\n    setLivroValue(currentBook);\n  }, [setLivroValue, currentBook]);\n\n  const handleSubmit = (e) => {\n    const entry = {\n      book_id: livroValue,\n      start_time: TimeRFC3339(jaComeceiValue, true, inicioDataValue, inicioHorarioValue),\n      end_time: TimeRFC3339(jaPareiValue, false, fimDataValue, fimHorarioValue),\n      start_location: parseInt(inicioPaginaValue, 10) || null,\n      end_location: parseInt(fimPaginaValue, 10) || null\n    }\n    addEntry(token, entry, data, dispatch);\n\n    !currentBook && setLivroValue(\"\");\n    setInicioDataValue(\"\");\n    setInicioHorarioValue(\"\");\n    setInicioPaginaValue(\"\");\n    setFimDataValue(\"\");\n    setFimHorarioValue(\"\");\n    setFimPaginaValue(\"\");\n    setJaComeceiValue(false);\n    setJaPareiValue(false);\n\n    e.preventDefault();\n  };\n\n  return (\n    <rs.Form onSubmit={handleSubmit}>\n\n      <rs.Card>\n        <rs.CardBody>\n\n          <rs.Row>\n            <rs.Col sm={4}>\n                {livroInput}\n            </rs.Col>\n\n            {!jaComeceiValue && <rs.Col sm={4}>\n              {inicioPaginaInput}\n            </rs.Col>}\n\n            <rs.Col sm={2}>\n              {jaComeceiCheckbox}\n            </rs.Col>\n\n            <rs.Col sm={2}>\n              {!jaComeceiValue && <rs.Button color=\"dark\">Começar</rs.Button>}\n            </rs.Col>\n\n          </rs.Row>\n\n\n          {jaComeceiValue && (\n            <>\n          <rs.Badge color=\"warning\">Início retroativo</rs.Badge>\n\n          <rs.Row>\n            <rs.Col sm={3}>\n              {inicioDataInput}\n            </rs.Col>\n            <rs.Col sm={3}>\n              {inicioHorarioInput}\n            </rs.Col>\n            <rs.Col sm={3}>\n              {inicioPaginaInput}\n            </rs.Col>\n            <rs.Col sm={2}>\n              {jaPareiCheckbox}\n            </rs.Col>\n            </rs.Row>\n            </>\n\n            )}\n\n          {jaPareiValue && (\n            <>\n          <rs.Badge color=\"warning\">Fim retroativo</rs.Badge>\n          <rs.Row>\n            <rs.Col sm={3}>\n              {fimDataInput}\n            </rs.Col>\n            <rs.Col sm={3}>\n              {fimHorarioInput}\n            </rs.Col>\n            <rs.Col sm={3}>\n              {fimPaginaInput}\n            </rs.Col>\n          </rs.Row>\n            </>\n          )}\n\n          {jaComeceiValue && <rs.Button color=\"dark\">Adicionar registro</rs.Button>}\n\n        </rs.CardBody>\n      </rs.Card>\n\n    </rs.Form>\n  )\n}\n\nconst dateAndTimeToDate = (data, hora) => {\n  var data_parts = data.split(\"/\");\n  var hora_parts = hora.split(\":\");\n  var dt = new Date(\n    parseInt(data_parts[2], 10), // ano\n    parseInt(data_parts[1], 10) - 1, // mês começa com 0\n    parseInt(data_parts[0], 10), // dia\n    parseInt(hora_parts[0], 10), // hora\n    parseInt(hora_parts[1], 10), // minuto\n  );\n  return dt\n}\n\nconst TimeRFC3339 = (usarHorarioManual, retornarAgora, data, hora) => {\n  if (usarHorarioManual) {\n    try {\n      return dateAndTimeToDate(data, hora).toISOString();\n    } catch (e) {\n      return \"\"\n    }\n  }\n  if (retornarAgora) {\n    return new Date().toISOString();\n  }\n  return \"\"\n};\n","import * as rs from 'reactstrap';\nimport React, { useRef, useEffect, useState } from 'react';\nimport { patchProperty } from './../model/api.js';\nimport { connectWithData, connectWithToken } from './../model/actions.js';\nexport const ConnectedEditableProperty = connectWithData(connectWithToken(EditableProperty));\n\nfunction EditableProperty({data, token, entryId, propertyName, children, dataParser, dispatch}) {\n  const [value, setValue] = useState(children);\n  const [isEditing, setIsEditing] = useState(false);\n  const ref = useRef();\n\n  const handleClick = () => {\n    setIsEditing(!isEditing);\n  };\n  \n  const onSubmit = (e) => {\n    if (!dataParser) {\n      dataParser = (e) => e;\n    }\n    patchProperty(data, token, entryId, propertyName, dataParser(value), dispatch);\n    setIsEditing(false);\n    e.preventDefault();\n  };\n\n  useEffect(() => {\n    if (isEditing) {\n      ref.current.focus();\n    }\n    setValue(children);\n  }, [isEditing, children]);\n\n  const handleFocus = (event) => event.target.select();\n\n  return (\n    <>\n    {!isEditing && (\n      <td onClick={handleClick}>{value}</td>\n    )}\n    {isEditing && (\n      <td>\n        <rs.Form onSubmit={onSubmit}>\n          <rs.Input value={value || \"\"} onChange={e => setValue(e.target.value)} innerRef={ref} onFocus={handleFocus}/>\n        </rs.Form>\n      </td>\n    )}\n    </>\n  );\n}\n","import * as rs from 'reactstrap';\nimport { ConnectedEditableProperty } from './EditableProperty.js';\nimport { deleteEntry, stopEntry } from './../model/api.js';\nimport { connectWithData } from './../model/actions.js';\nimport { useState } from 'react';\nimport { useInput } from './../model/hooks.js';\n\nexport const ConnectedEntry = connectWithData(Entry);\n\nfunction Entry({token, entry, data, dispatch}) {\n\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [showStopModal, setShowStopModal] = useState(false);\n  const [stopDate, setStopDate] = useState(\"\");\n\n  const handleDeleteConfirm = () => {\n    deleteEntry(token, entry.id, data, dispatch);\n    setShowDeleteModal(false);\n  };\n\n  const handleDeleteCancel = () => {\n    setShowDeleteModal(false);\n  };\n\n  const handleDeleteModal = e => {\n    setShowDeleteModal(true);\n    e.preventDefault();\n  };\n\n  const handleStopConfirm = (stopPage) => {\n    stopEntry(token, entry, stopDate, stopPage, dispatch);\n    setShowStopModal(false);\n  };\n\n  const handleStopCancel = () => {\n    setShowStopModal(false);\n  };\n\n  const handleStopModal = e => {\n    setShowStopModal(true);\n    setStopDate(new Date().toISOString());\n    e.preventDefault();\n  };\n\n  const isIncomplete = !(\n    entry &&\n    entry.book_id &&\n    entry.start_time &&\n    entry.end_time &&\n    entry.start_location &&\n    entry.end_location\n  );\n\n  return (\n    <tr className={(entry.loadingRequests && entry.loadingRequests.length && \"entry-loading\") || (isIncomplete && \"entry-incomplete\")}>\n      <ConnectedEditableProperty entryId={entry.id} propertyName=\"book_id\">\n        {entry.book_id}\n      </ConnectedEditableProperty>\n      <ConnectedEditableProperty entryId={entry.id} propertyName=\"start_time\" dataParser={timeParser}>\n        {prettyDate(entry.start_time)}\n      </ConnectedEditableProperty>\n      <ConnectedEditableProperty entryId={entry.id} propertyName=\"start_location\" dataParser={intParser}>\n        {entry.start_location}\n      </ConnectedEditableProperty>\n      <ConnectedEditableProperty entryId={entry.id} propertyName=\"end_time\" dataParser={timeParser}>\n        {prettyDate(entry.end_time)}\n      </ConnectedEditableProperty>\n      <ConnectedEditableProperty entryId={entry.id} propertyName=\"end_location\" dataParser={intParser}>\n        {entry.end_location}\n      </ConnectedEditableProperty>\n      <td>\n        <DeleteModal handleCancel={handleDeleteCancel} handleConfirm={handleDeleteConfirm} showModal={showDeleteModal} />\n        <StopModal handleCancel={handleStopCancel} handleConfirm={handleStopConfirm} showModal={showStopModal} stopDate={stopDate} />\n        <rs.Button color=\"light\" onClick={(e) => handleDeleteModal(e, entry.id)}>🗑️</rs.Button>\n        {!entry.end_time && <rs.Button color=\"light\" onClick={(e) => handleStopModal(e, entry)}>⏱</rs.Button>}\n      </td>\n    </tr>\n  );\n}\n\nconst timeParser = str => {\n  const parts = str.split(\" \"); // Esperado espaço vazio entre data e hora\n  try {\n    return dateAndTimeToDate(parts[0], parts[1]).toISOString();\n  } catch (e) {\n    return null;\n  }\n};\n\nconst prettyDate = dateStr => {\n  const timestamp = Date.parse(dateStr);\n  if (timestamp) {\n    const date = new Date();\n    date.setTime(timestamp);\n    return pad(date.getDate(), 2) + \"/\" + pad((date.getMonth()+1), 2) + \"/\" + date.getFullYear() + \" \"\n      + pad(date.getHours(), 2) + \":\" + pad(date.getMinutes(), 2);\n  }\n  return \"\";\n}\n\nconst intParser = str => {\n  return parseInt(str, 10);\n};\n\nconst dateAndTimeToDate = (data, hora) => {\n  var data_parts = data.split(\"/\");\n  var hora_parts = hora.split(\":\");\n  var dt = new Date(\n    parseInt(data_parts[2], 10), // ano\n    parseInt(data_parts[1], 10) - 1, // mês começa com 0\n    parseInt(data_parts[0], 10), // dia\n    parseInt(hora_parts[0], 10), // hora\n    parseInt(hora_parts[1], 10), // minuto\n  );\n  return dt\n}\n\nconst pad = (num, len) => {\n    var str = num + \"\";\n    while (str.length < len) {\n        str = \"0\" + str;\n    }\n    return str;\n}\n\nfunction StopModal({showModal, handleConfirm, handleCancel, stopDate}) {\n\n  const [input, value] = useInput(\"Em que página você parou?\");\n\n  const handleSubmit = e => {\n    handleConfirm(value);\n    e.preventDefault();\n  }\n\n  return (\n  <rs.Modal isOpen={showModal}>\n  <rs.Form onSubmit={handleSubmit}>\n    <rs.ModalHeader>Confirmar</rs.ModalHeader>\n    <rs.ModalBody>\n        <rs.FormGroup>\n          <rs.Label>\n            Horário de parada: {prettyDate(stopDate)}\n          </rs.Label>\n        </rs.FormGroup>\n        <rs.FormGroup>\n          {input}\n        </rs.FormGroup>\n    </rs.ModalBody>\n    <rs.ModalFooter>\n      <rs.Button color=\"primary\" type=\"submit\">Confirmar parada</rs.Button>{' '}\n      <rs.Button color=\"secondary\" onClick={handleCancel}>Cancelar</rs.Button>\n    </rs.ModalFooter>\n  </rs.Form>\n  </rs.Modal>\n  );\n}\n\nfunction DeleteModal({showModal, handleConfirm, handleCancel}) {\n  return (\n  <rs.Modal isOpen={showModal}>\n    <rs.ModalHeader>Confirmar</rs.ModalHeader>\n    <rs.ModalBody>\n      Deseja mesmo excluir?\n    </rs.ModalBody>\n    <rs.ModalFooter>\n      <rs.Button color=\"primary\" onClick={handleConfirm}>Confirmar exclusão</rs.Button>{' '}\n      <rs.Button color=\"secondary\" onClick={handleCancel}>Cancelar</rs.Button>\n    </rs.ModalFooter>\n  </rs.Modal>\n  );\n}\n","import * as rs from 'reactstrap';\nimport React, { useEffect, useState } from 'react';\nimport { ConnectedEntry } from './Entry.js';\nimport { fetchEntries, } from './../model/api.js';\nimport { connectWithData, connectWithToken } from './../model/actions.js';\n\nexport const ConnectedPastEntries = connectWithData(connectWithToken(PastEntries));\n\nfunction PastEntries({token, data, dispatch}) {\n\n  const [shouldFetch, setShouldFetch] = useState(true);\n\n  useEffect(() => {\n    if (token) {\n      if (!shouldFetch) {\n        return;\n      }\n      setShouldFetch(false);\n      fetchEntries(token, dispatch);\n    }\n  }, [token, shouldFetch, setShouldFetch, dispatch]);\n\n  return (\n    <>\n    <rs.Table>\n      <thead>\n        <tr>\n          <th>Livro</th>\n          <th>Comecei às</th>\n          <th>Comecei na página</th>\n          <th>Parei às</th>\n          <th>Parei na página</th>\n          <th>Operações</th>\n        </tr>\n      </thead>\n      {(data && data.length && (\n        <tbody>\n          {data.map(i => (\n            <ConnectedEntry\n              token={token}\n              entry={i}\n              key={i.id}\n            />\n          ))}\n        </tbody>\n      )) || (<tbody></tbody>)}\n      </rs.Table>\n    </>\n  );\n\n}\n\n","export function Youtube() {\n  return (\n    <div className=\"embed-responsive embed-responsive-16by9\">\n      <iframe className=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/9l0-s-3Ibgw\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\n    </div>\n  );\n}\n","import * as rs from 'reactstrap';\nimport { logout, addError, setData, updateToken } from './../model/actions.js';\nimport { connectWithToken } from './../model/actions.js';\nimport { GoogleLogin } from 'react-google-login';\nimport { fetchEntries } from './../model/api.js';\nimport { Youtube } from './Youtube.js';\n\nfunction FormLogin({token, dispatch}) {\n\n  const onGoogleLoginSuccess = response => {\n    dispatch(updateToken(response.tokenId))\n  }\n\n  const onGoogleLoginFailure = response => {\n   addError(dispatch, \"Erro ao fazer login com Google\");\n  }\n\n  if (!token) {\n  return (\n    <>\n      <rs.Row>\n        <rs.Col>\n          <center>\n            Acesse seu <b>Diário de Leitura</b>:<br/><br/>\n          <GoogleLogin\n            clientId=\"656765689994-f29hh63in3j1362mom3ek00ukcmru8jq.apps.googleusercontent.com\"\n            buttonText=\"Login\"\n            onSuccess={onGoogleLoginSuccess}\n            onFailure={onGoogleLoginFailure}\n            cookiePolicy={'single_host_origin'}\n          />\n          </center>\n        </rs.Col>\n      </rs.Row>\n      <br/><br/>\n      <rs.Row>\n        <rs.Col md={{size: 8, offset: 2}}>\n          Aprenda a usar:<br/><br/>\n          <Youtube/>\n        </rs.Col>\n      </rs.Row>\n    </>\n  );\n  } else {\n\n  const handleRefresh = () => {\n    setData(dispatch, null)\n    fetchEntries(token, dispatch);\n  };\n\n  return (\n    <rs.Form>\n\n      <rs.Row>\n        <rs.Col md={{size: 1, offset: 10}}>\n          <rs.Button onClick={handleRefresh} color=\"secondary\">Atualizar</rs.Button>\n        </rs.Col>\n        <rs.Col md={{size: 1}}>\n          <rs.Button onClick={() => logout(dispatch) } color=\"secondary\">Logout</rs.Button>\n        </rs.Col>\n      </rs.Row>\n\n    </rs.Form>\n  );\n  }\n}\n\nexport const ConnectedFormLogin = connectWithToken(FormLogin);\n","import * as rs from 'reactstrap';\nimport { clearErrors, connectWithErrors } from './../model/actions.js';\nimport React, { useState } from 'react';\n\nfunction Errors({errors, dispatch}) {\n  const [expanded, setExpanded] = useState(false);\n\n  if (!errors || !errors.length) {\n    return null;\n  }\n\n  let visibleErrors = [...errors].reverse();\n\n  if (!expanded && errors.length) {\n    visibleErrors = [visibleErrors[0]];\n  }\n\n  const toggleExpanded = () => {\n    setExpanded(!expanded);\n  };\n\n  const handleClear = () => {\n    clearErrors(dispatch);\n  }\n\n  let isFirst = true;\n\n  return (\n    <>\n    <rs.Badge color=\"danger\">Log de erros</rs.Badge>\n    <rs.ListGroup>\n      {visibleErrors.length && visibleErrors.map(i => (\n        <rs.ListGroupItem>\n          <rs.Row>\n            <rs.Col className=\"log-date\" md={3}>\n              {i.date}\n            </rs.Col>\n            <rs.Col>\n              {i.error}\n            </rs.Col>\n            {isFirst && (\n              <>\n              {errors.length > 1 && (\n              <rs.Col md={2}>\n                <rs.Button onClick={toggleExpanded} color=\"light\">{(!expanded && \"Ver mais\") || \"Ver menos\"}</rs.Button>\n              </rs.Col>\n              )}\n              <rs.Col md={2}>\n                <rs.Button color=\"warning\" onClick={handleClear}>Limpar log</rs.Button>\n              </rs.Col>\n              </>\n            )}\n              {isFirst = false}\n            </rs.Row>\n          </rs.ListGroupItem>\n      ))}\n        </rs.ListGroup>\n    </>\n  );\n}\n\nexport const ConnectedErrors = connectWithErrors(Errors);\n","export const accumulatedPerDate = (rawData, dateMax) => {\n  rawData = sortAndFilter(rawData);\n  const data = rawData.reduce((acc, i) => {\n\n    let total = 0;\n\n    if (acc.length > 0) {\n      total = acc[acc.length-1].y;\n    }\n\n    let shouldRepeat;\n    do {\n      shouldRepeat = false;\n      if (date(i.start_time) > date(dateMax)) {\n        // Skip\n      } else if (acc.length === 0) {\n        // Initial date\n        acc.push({x: date(i.start_time), y: total + i.end_location - i.start_location});\n      } else if (date(acc[acc.length-1].x) === date(i.start_time)) {\n        // Same date as previous\n        acc[acc.length-1].y += i.end_location - i.start_location;\n      } else if (datePlus1(acc[acc.length-1].x) === date(i.start_time)) {\n        // Day + 1\n        acc.push({x: date(i.start_time), y: total + i.end_location - i.start_location});\n      } else {\n        // Add day with no records\n        acc.push({x: datePlus1(acc[acc.length-1].x), y: total})\n        shouldRepeat = true;\n      }\n    } while (shouldRepeat);\n\n    return acc\n  }, []);\n\n  if (!data || !data.length) {\n    return [];\n  }\n\n  while (date(data[data.length-1].x) < date(dateMax)) {\n    data.push({x: datePlus1(data[data.length-1].x), y: data[data.length-1].y});\n  }\n\n  return data;\n}\n\nexport const datePlus1 = dateStr => {\n  if (dateStr.length === 10) {\n    dateStr += \"T00:00:00\";\n  }\n  const timestamp = Date.parse(dateStr);\n  if (timestamp) {\n    const date = new Date();\n    date.setTime(timestamp);\n\n    date.setDate(date.getDate() + 1)\n\n    const formatted = date.getFullYear()\n      + \"-\" + pad((date.getMonth()+1), 2)\n      + \"-\" + pad(date.getDate(), 2)\n    ;\n\n    return formatted;\n  }\n  return \"\";\n}\n\nconst date = dateStr => {\n  if (dateStr.length === 10) {\n    dateStr += \"T00:00:00\";\n  }\n  const timestamp = Date.parse(dateStr);\n  if (timestamp) {\n    const date = new Date();\n    date.setTime(timestamp);\n    return formatDate(date);\n  }\n  return \"\";\n}\n\nexport const formatDate = date => {\n    const formatted = date.getFullYear()\n      + \"-\" + pad((date.getMonth()+1), 2)\n      + \"-\" + pad(date.getDate(), 2)\n    ;\n    return formatted;\n}\n\nexport const sortAndFilter = data => {\n  if (!data || data.length === 0) {\n    return data;\n  }\n  const sorted = [...data].sort((a, b) => {\n    if (a.start_time < b.start_time) {\n      return -1;\n    }\n    return 1;\n  });\n  const filtered = sorted.filter(i => {\n    return i.start_time && i.end_time && i.start_location && i.end_location;\n  });\n  return filtered;\n};\n\nconst pad = (num, len) => {\n    var str = num + \"\";\n    while (str.length < len) {\n        str = \"0\" + str;\n    }\n    return str;\n}\n\nexport const newPagesPerDate = (rawData, dateMax) => {\n  rawData = sortAndFilter(rawData);\n  const data = rawData.reduce((acc, i) => {\n    let shouldRepeat;\n    do {\n      shouldRepeat = false;\n      if (date(i.start_time) > date(dateMax)) {\n        // Skip\n      } else if (acc.length === 0) {\n        // Initial date\n        acc.push({x: date(i.start_time), y: i.end_location - i.start_location});\n      } else if (date(acc[acc.length-1].x) === date(i.start_time)) {\n        // Same date as previous\n        acc[acc.length-1].y += i.end_location - i.start_location;\n      } else if (datePlus1(acc[acc.length-1].x) === date(i.start_time)) {\n        // Day + 1\n        acc.push({x: date(i.start_time), y: i.end_location - i.start_location});\n      } else {\n        // Add day with no records\n        acc.push({x: datePlus1(acc[acc.length-1].x), y: 0})\n        shouldRepeat = true;\n      }\n    } while (shouldRepeat);\n\n    return acc\n  }, []);\n\n  if (!data || !data.length) {\n    return [];\n  }\n\n  while (date(data[data.length-1].x) < date(dateMax)) {\n    data.push({x: datePlus1(data[data.length-1].x), y: 0});\n  }\n\n  return data;\n}\n","import * as metrics from './../model/metrics.js';\nimport * as charts from 'react-chartjs-2';\nimport * as rs from 'reactstrap';\nimport { connectWithData } from './../model/actions.js';\n\nfunction Metrics({data}) {\n  if (!data || !data.length) {\n    return null;\n  }\n\n  const options = {\n    scales: {\n      xAxes: [{\n        type: 'time',\n        time: {\n          round: 'day',\n          minUnit: 'day',\n        },\n      }],\n    },\n    aspectRatio: 2.5,\n  };\n\n  const now = new Date();\n\n  const accumulatedPagesData = {\n    datasets: [\n      {\n        label: 'Total acumulado de páginas lidas',\n        data: metrics.accumulatedPerDate(data, metrics.formatDate(now)),\n        backgroundColor: 'rgba(67, 85, 163, 0.2)',\n        borderColor: 'rgba(67, 85, 163, 0.5)',\n      },\n    ],\n  }\n\n  const newPagesData = {\n    datasets: [\n      {\n        label: 'Quantidade diária de páginas lidas',\n        data: metrics.newPagesPerDate(data, metrics.formatDate(now)),\n        backgroundColor: 'rgba(102, 151, 91, 0.2)',\n        borderColor: 'rgba(102, 151, 91, 0.5)',\n      },\n    ],\n  }\n\n  return (\n    <rs.Row>\n      <rs.Col md={6}>\n        <charts.Line data={accumulatedPagesData} options={options} height={null} width={null}/>\n      </rs.Col>\n      <rs.Col md={6}>\n        <charts.Line data={newPagesData} options={options} height={null} width={null}/>\n      </rs.Col>\n    </rs.Row>\n  );\n}\n\nexport const ConnectedMetrics = connectWithData(Metrics);\n","import { useState } from 'react';\nimport * as rs from 'reactstrap';\nimport { filterByBook, connectWithBookTitles } from './../model/actions.js';\n\nconst ALL_BOOKS = \"Todos os livros\";\n\nfunction Filter({bookTitles, dispatch}) {\n  const [dropdownOpen, setDropdownOpen] = useState(false);\n  const [title, setTitle] = useState(ALL_BOOKS);\n\n  const toggle = () => setDropdownOpen(prevState => !prevState);\n\n  const filter = (label, id) => {\n    setTitle(label);\n    filterByBook(dispatch, id);\n  }\n\n  return (\n    <rs.Form>\n    <rs.Row>\n      <rs.Col>\n    <rs.Dropdown isOpen={dropdownOpen} toggle={toggle}>\n      <rs.DropdownToggle caret>\n        {title}\n      </rs.DropdownToggle>\n      <rs.DropdownMenu>\n        <rs.DropdownItem onClick={() => filter(ALL_BOOKS, null)}>{ALL_BOOKS}</rs.DropdownItem>\n        {bookTitles && bookTitles.length && bookTitles.map(i => (\n          <rs.DropdownItem key={i} onClick={() => filter(i, i)}>{i}</rs.DropdownItem>\n        ))}\n      </rs.DropdownMenu>\n    </rs.Dropdown>\n  </rs.Col>\n  </rs.Row>\n    </rs.Form>\n  );\n}\n\nexport const ConnectedFilter = connectWithBookTitles(Filter);\n","import * as rs from 'reactstrap';\n\nimport { ConnectedFormAddEntry } from './FormAddEntry.js'\nimport { ConnectedPastEntries } from './PastEntries.js'\nimport { ConnectedFormLogin } from './FormLogin.js'\nimport { ConnectedErrors } from './Errors.js'\nimport { ConnectedMetrics } from './Metrics.js'\nimport { ConnectedFilter } from './Filter.js'\nimport { connectWithToken } from './../model/actions.js';\n\nfunction Main({token}) {\n\n  return (\n    <rs.Container>\n      <ConnectedFormLogin/>\n      <ConnectedErrors/>\n      {token && (\n        <>\n        <ConnectedFilter/>\n        <ConnectedFormAddEntry/>\n        <ConnectedMetrics/>\n        <ConnectedPastEntries/>\n        </>\n      )}\n    </rs.Container>\n  );\n}\n\nexport const ConnectedMain = connectWithToken(Main);\n\n","import React from 'react';\n\nimport { ConnectedMain } from './components/Main.js';\n\nfunction App() {\n  return <ConnectedMain/>\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './style.css';\r\nimport App from './App';\r\nimport store from './model/store';\r\nimport { Provider } from 'react-redux';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}